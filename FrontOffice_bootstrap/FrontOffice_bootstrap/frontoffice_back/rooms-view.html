<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Chain Responsive Bootstrap3 Admin</title>

        <link href="../css/style.default.css" rel="stylesheet">
        <link href="../css/artDialog.default.css" rel="stylesheet">
        <link href="../css/artDialog/skins/default.css" rel="stylesheet">


        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="js/html5shiv.js"></script>
        <script src="js/respond.min.js"></script>
        <![endif]-->
        <style>
			.media-manager .fm-title-room {
				margin-bottom: 0px;
				font-size: 13px;
				display:inline;
				color:#2A6496;
			}
			.text-rmtype {
 			   color: #2A6496;
			}	
			.img-gstatus{
				padding-left:10px;
				display:inline;
			}
			.media-manager .thmb-ftp {
				border: 1px solid #bacfd4;
				border-radius: 3px;
				padding: 6px;
				margin-bottom: 2px;
				position: relative;
				height: 84px;
				color:#bacfd4;
			}

			.media-manager .thmb-ftp-occ {
				border: 3px double #31708F;;
			}

			.media-manager .selected {background:#FCF8E3;border-color:red;}

			.media-manager .thmb-blank {
				border: none;
				border-radius: 3px;
				padding: 6px;
				margin-bottom: 2px;
				position: relative;
				height: 84px;
			}
			.media-manager .thmb-status {
				border: none;
				border-radius: 3px;
				padding-left:4px;
				padding-right:4px;
				padding-bottom:2px;
				padding-top:2px; 
				margin-bottom: 2px;
				position: relative;
				height: 48%;
				line-height:12px;
				filter:alpha(opacity=50);  
			    -moz-opacity:0.5;  
      			-khtml-opacity: 0.5;  
      			opacity: 0.5;  				
			}
			.small-right {
				font-size: 85%;
				float:right;
			}
			.height50{ height:50%;}						
			
			
			.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12, .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12, .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12, .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
		    padding-left: 1px;
		    padding-right: 1px;
			}			
			.col-md-3 {width:10.00%;}

			.form-inline .form-control {
				display: inline-block;
				width: 120px;
				vertical-align: middle;
				padding: 5px 10px;
			}
			.media-manager .ckbox {
				position: absolute;
				top: 10px;
				left:auto;
				right: 10px;
				display: none;
			}

			.dropdown-menu > li > a {
				padding:4px 10px;
				color: #666;
			}			
			
			.fm-menu {
				min-width: 120px;
			}
			
			.fm-menu a {
				font-size: 12px;
				color: #333;
				padding: 4px 8px;
			}
			
			.fm-menu i {
				margin-right: 7px;
				color: #999;
				width: 12px;
				font-size: 11px;
			}			
			.modal-dialog {
				width: 1148px;
			}
			.modal-body {
			    padding: 1px;
			}
			
			.col-md-8.all{width:100%;}
			.col-md-4.none{ display:none; }
			
        </style>
        
        
    </head>

    <body>
        <div class="contentpanel contentpanel-mediamanager">
            
            <div class="media-options">
                <div class="pull-left">
                        
                        <div class="form-inline">
                            <input type="text" class="form-control" id="select-room" placeholder="房号">
                            <button id ="search" type="reset" class="btn btn-info btn-sm"> 查找 </button>
                            <button id ="retrieve" type="reset" class="btn btn-default btn-sm"> 刷新 </button>
                            <button id ="test" type="reset" class="btn btn-default btn-sm" onClick="test"> test </button>

							<select id="select-rmtype" data-placeholder="房型" class="form-control  width200">
                                <option value="">房型</option>
                                <option value="ST">标准间</option>
                                <option value="SK">单人标</option>
                                <option value="DK">套间</option>
                            </select>
							<select id="select-floor" data-placeholder="楼层" class="form-control  width200">
                                <option value="">楼层</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                            </select>
                            <input id="ftps" type="text" class="form-control"  placeholder="每行个数" value="8">
                            
                            
                        </div>
                        
                </div>
                <div class="pull-right">
                    条件: 
                    <div class="btn-group media-option-group" data-toggle="buttons">
                        <label class="btn btn-default btn-sm active">
                          <input type="radio" name="radio_select" id="opALL" checked> 全部
                        </label>
                        <label class="btn btn-default btn-sm">
                          <input type="radio" name="radio_select" id="opV"> 空净房
                        </label>
                        <label class="btn btn-default btn-sm">
                          <input type="radio" name="radio_select" id="opO"> 占用
                        </label>
                        <label class="btn btn-default btn-sm">
                          <input type="radio" name="radio_select" id="opDI"> 脏房
                        </label>
                        <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal">
                            其它条件
                        </button>
                    </div><!-- btn-group -->
                    <div class="ckbox ckbox-default mr20 inline-block">
                        <input type="checkbox" checked="checked" id="rmblock" value="0">
                        <label for="rmblock">分房</label>
                    </div><!-- ckbox -->
                        
              </div>
            </div><!-- media-options -->
            
            <hr>

            <div class="row">
                <div class="media-manager col-md-8 all " > 
                    <!--这儿是房态盘-->                         
                </div>
                <div class="col-md-4 none"> 
	                <!--这儿是分房-->
                    <div class="panel panel-default">
						<iframe src="rooms-view-block-search.html" id="win_block" name="win_block" height="768px" width="100%" frameborder="0"></iframe>
                    </div>
                </div><!--col-md-4-->
                
                
                
   		  </div><!--row-->                                       

            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">其它条件</h4>
                  </div>
                  <div class="modal-body">
                      <iframe src="frontoffice/reservation/reservation.html" name="reservation" height="768px" width="1138px" frameborder="0"></iframe>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary"> 确认 </button>
                  </div>
                </div><!-- modal-content -->
              </div><!-- modal-dialog -->
            </div><!-- modal -->
    
    
            <div class="contextMenu" id="myMenu">
                <ul role="menu" class="dropdown-menu fm-menu dropdown-demo-only mb20">
                    <li id="edit"><a href="#"><i class="glyphicon glyphicon-pencil"></i>修改客人信息</a></li>
                    <li id="walkin"><a href="#"><i class="glyphicon glyphicon-user"></i>散客入住</a></li>
                    <li id="newreservation"><a href="#"><i class="glyphicon glyphicon-phone-alt"></i>新预定</a></li>
                    <li id="gledger"><a href="#"><i class="glyphicon glyphicon-phone-alt"></i>客人帐</a></li>
                    <li class="divider"></li>
                    <li id="roomstatus"><a href="#"><i class="glyphicon  glyphicon-wrench"></i>设置房态</a></li>
                    <li class="divider"></li>
                    <li id="ledger"><a href="#"><i class="glyphicon glyphicon-usd"></i>客人帐</a></li>
                </ul>        
            </div>        
		</div><!--contentpanel-->

     
                
        <script src="../js/jquery-1.11.1.min.js"></script>
        <script src="../js/jquery-migrate-1.2.1.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script src="../js/modernizr.min.js"></script>
        <script src="../js/pace.min.js"></script>
        <script src="../js/retina.min.js"></script>
        <script src="../js/jquery.cookies.js"></script>
        
        <script src="../js/jquery.prettyPhoto.js"></script>
        <script src="../js/custom.js"></script>
        
        
        
        <script src="../js/frontoffice/cookies.js"></script>
		<script src="../js/frontoffice/jquery.contextmenu.r2.js"></script>        
		<script src="../js/frontoffice/artDialog.min.js"></script>
        <script src="../js/frontoffice/artDialog.plugins.min.js"></script>
        <script src="../js/frontoffice/jquery.artDialog.min.js"></script>
        
		<script src="../js/frontoffice/artDialog.source.js?skin=default" type="text/javascript"></script>
        <script src="../js/frontoffice/iframeTools.source.js" type="text/javascript"></script>        
        
        <script src="../js/frontoffice/rooms-view.js"></script>
        
        
        <script>
            jQuery(document).ready(function(){
				window.roomsview = ""; 
				get_ftpcolor();  //房态盘色块值
				window.ftps = parseInt(document.getElementById("ftps").value);  //每行ftp个数
				roomretrieve( );
				
                jQuery('.thmb').hover(function() {
                    var t = jQuery(this);
                    t.find('.ckbox').show();
                    t.find('.fm-group').show();
                }, function() {
      
                    var t = jQuery(this);
                    if(!t.closest('.thmb').hasClass('checked')) {
                        t.find('.ckbox').hide();
                        t.find('.fm-group').hide();
                    }
                });
    
                jQuery('.ckbox').each(function(){
                    var t = jQuery(this);
                    var parent = t.parent();
                    if(t.find('input').is(':checked')) {
                        t.show();
                        parent.find('.fm-group').show();
                        parent.addClass('checked');
                    }
                });
    
    
                jQuery('.ckbox').click(function(){
                    var t = jQuery(this);
                    if(!t.find('input').is(':checked')) {
                        t.closest('.thmb').removeClass('checked');
                        enable_itemopt(false);
                    } else {
                        t.closest('.thmb').addClass('checked');
                        enable_itemopt(true);
                    }
                });
    
                jQuery('#selectAll').click(function() {
                    if(jQuery(this).hasClass('btn-default')) {
                        jQuery('.thmb').each(function() {
                            jQuery(this).find('input').attr('checked',true);
                            jQuery(this).addClass('checked');
                            jQuery(this).find('.ckbox, .fm-group').show();
                        });
                        enable_itemopt(true);
                        jQuery(this).removeClass('btn-default').addClass('btn-primary');
                        jQuery(this).text('Select None');
                    } else {
                        jQuery('.thmb').each(function(){
                            jQuery(this).find('input').attr('checked',false);
                            jQuery(this).removeClass('checked');
                            jQuery(this).find('.ckbox, .fm-group').hide();
                        });
                        enable_itemopt(false);
                        jQuery(this).removeClass('btn-primary').addClass('btn-default');
                        jQuery(this).text('Select All');
                    }
                });
    
                function enable_itemopt(enable) {
                    if(enable) {
                        jQuery('.media-options .btn.disabled').removeClass('disabled').addClass('enabled');
                    } else {
        
                        // check all thumbs if no remaining checks
                        // before we can disabled the options
                        var ch = false;
                        jQuery('.thmb').each(function(){
                            if(jQuery(this).hasClass('checked'))
                                ch = true;
                        });
        
                        if(!ch)
                            jQuery('.media-options .btn.enabled').removeClass('enabled').addClass('disabled');
                    }
                }
    
                jQuery("a[data-rel^='prettyPhoto']").prettyPhoto();
    

	
            });
			

        </script>
    </body>
</html>
